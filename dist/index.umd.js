!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("fs"),require("prompts")):"function"==typeof define&&define.amd?define(["fs","prompts"],t):t(e.fs,e.prompts)}(this,function(e,t){function r(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var o=process.cwd()+"/next-codegen.json",n=[{name:"typescript",type:"confirm",message:"Does your app use typescript?",initial:!1},{name:"srcDirectory",type:"confirm",message:"Is your code located in a root src/ directory?",initial:!1}],i={path:o,questions:n,get:function(){try{return Promise.resolve(e.promises.readFile(o,{encoding:"utf-8"}))}catch(e){return Promise.reject(e)}},write:function(t){try{return Promise.resolve(e.promises.writeFile(o,JSON.stringify(t,null,2)))}catch(e){return Promise.reject(e)}},prompt:function(){try{return Promise.resolve(t.prompt(n))}catch(e){return Promise.reject(e)}},messages:{success:"Successfully wrote config to "+o,fail:"There was a problem saving your config file."}},s=console.info;!function(){try{var e=r(function(){return Promise.resolve(i.get().then(JSON.parse)).then(function(e){return Promise.resolve(function(e){try{return Promise.resolve(function(e){try{return Promise.resolve(t.prompt({name:"type",type:"select",message:"Choose a resource to generate.",choices:[{title:"Page",value:"page"},{title:"API route",value:"api"}]})).then(function(e){console.log(e);var r=function(){if("page"===e.type)return Promise.resolve(t.prompt({type:"select",name:"dataType",message:"How does your page fetch data?",choices:[{title:"getStaticProps (Static Generation): Fetch data at build time.",value:"getStaticProps"},{title:"getServerSideProps (Server-side Rendering): Fetch data on each request.",value:"getServerSideProps"}]})).then(function(){})}();if(r&&r.then)return r.then(function(){})})}catch(e){return Promise.reject(e)}}()).then(function(e){s(e)})}catch(e){return Promise.reject(e)}}()).then(function(){})})},function(e){return"ENOENT"!==e.code&&console.error(e),Promise.resolve(function(){try{return s("> Welcome to next-codegen."),Promise.resolve(i.prompt()).then(function(e){function t(){process.exit()}var o=r(function(){return Promise.resolve(i.write(e)).then(function(){s(i.messages.success)})},function(){s(i.messages.fail)});return o&&o.then?o.then(t):t()})}catch(e){return Promise.reject(e)}}()).then(function(){})});e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}()});
//# sourceMappingURL=index.umd.js.map
